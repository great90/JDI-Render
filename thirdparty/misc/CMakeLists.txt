set(TARGET_NAME misc)

include_directories(${CMAKE_CURRENT_SOURCE_DIR})

file(GLOB_RECURSE MISC_HEADER_FILES RELATIVE ${CMAKE_CURRENT_SOURCE_DIR} *.h *.hpp)
file(GLOB_RECURSE MISC_SOURCE_FILES RELATIVE ${CMAKE_CURRENT_SOURCE_DIR} *.c *.cc *.cpp)

if (NOT ${TARGET_PLATFORM} STREQUAL "android")
    list(REMOVE_ITEM MISC_HEADER_FILES "ifaddrs-android.h")
    list(REMOVE_ITEM MISC_SOURCE_FILES "ifaddrs-android.cc")
endif()

set(ALL_CODE_FILES ${MISC_HEADER_FILES} ${MISC_SOURCE_FILES})
GROUP_FILES(ALL_CODE_FILES)

add_library(${TARGET_NAME} STATIC ${ALL_CODE_FILES})
set_target_properties(${TARGET_NAME} PROPERTIES LINKER_LANGUAGE CXX FOLDER "libraries")
